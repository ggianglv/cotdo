<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2020-07-26T21:43:20+07:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Cốt đơ</title><subtitle>Các bài viết nhảm nhí về coder</subtitle><author><name>true</name></author><entry><title type="html">Viết component datepicker bằng javascript thuần</title><link href="http://localhost:4000/viet-thu-vien-datepicker-bang-javascript.html" rel="alternate" type="text/html" title="Viết component datepicker bằng javascript thuần" /><published>2020-07-26T00:00:00+07:00</published><updated>2020-07-26T00:00:00+07:00</updated><id>http://localhost:4000/viet-thu-vien-datepicker-bang-javascript</id><content type="html" xml:base="http://localhost:4000/viet-thu-vien-datepicker-bang-javascript.html">&lt;p&gt;Khi các bạn làm việc với các framework frontend như Vue, Angular hay React (thực ra nó là thư viện, nhưng mình cứ coi như nó là framework đi), bạn sẽ không ít lần dùng các thư viện datepicker có ở trên github. Đã bao giờ bạn tự hỏi rằng những thư viện này được viết như thế nào chưa? Lúc đầu mình cũng nghĩ những thư viện này ẩn chứa 1 thuật toán rất chi là cao siêu, nhưng khi bắt đầu viết cho mình 1 component datepicker thì lại thấy nó cực kỳ đơn giản. Hãy cùng bắt đầu nhé&lt;/p&gt;

&lt;h2 id=&quot;thành-quả&quot;&gt;Thành quả&lt;/h2&gt;

&lt;p&gt;Đây là kết quả cuối cùng của component. Mình có sử dụng thư viện NES css để trông cho đẹp mắt hơn. demo thì ở đây &lt;a href=&quot;https://gianglevan94.github.io/ugly-date-picker&quot;&gt;nes datepicker&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nes-datepicker.png&quot; alt=&quot;datepicker&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;thuật-toán&quot;&gt;Thuật toán&lt;/h2&gt;

&lt;p&gt;Mô ta 1 chút về component datepicker này. Như các bạn thấy nó sẽ gồm 35 ô số có thể chứa ngày của tháng hiện tại, ngày của tháng trước, và ngày của tháng kế tiếp. Ngày đầu tiên của tháng hiện tại sẽ luôn nằm ở hàng đầu tiên, vậy mấu chốt ở đây là bạn phải xác định được ngày đầu tiên của tháng là vào thứ mấy, rồi từ đấy fill vào các ô trước đó là ngày của tháng trước. Dưới đây là một vài đoạn code của thuật thoán.&lt;/p&gt;

&lt;p&gt;Đầu tiên là init các ngày của mảng mình sẽ có hàm &lt;code class=&quot;highlighter-rouge&quot;&gt;getDays&lt;/code&gt; bên trong đấy sẽ có 2 hàm là &lt;code class=&quot;highlighter-rouge&quot;&gt;getDaysOfPrevMonth&lt;/code&gt; và &lt;code class=&quot;highlighter-rouge&quot;&gt;getDaysOfMonth&lt;/code&gt; sẽ trả về các ngày của tháng trước, và các ngày sau đó. Vì sao đoạn này mình lại &lt;code class=&quot;highlighter-rouge&quot;&gt;days.slice(0, MAX_DAYS)&lt;/code&gt; ? Đoạn này do mình lười tính toàn số ngày của tháng hiện tại và tháng tiếp đó nên mình sẽ lấy dư ra vài ngày và cắt bớt. Bạn đọc code sẽ hiểu thêm.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDays&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDaysOfPrevMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDaysOfMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)];&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MAX_DAYS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Đây là hàm lấy gày của tháng hiện tại như bạn có thể thấy là hàm &lt;code class=&quot;highlighter-rouge&quot;&gt;getFirstDayIndex&lt;/code&gt; sẽ trả về ngày đầu tiên của tháng là index thứ bao nhiêu của mảng. Sau đó sẽ lùi dần về ngày của các tháng trước đó&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDaysOfPrevMonth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstDayIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getFirstDayIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstDayIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;diffDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstDayIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;diffDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mình sẽ dùng hàm &lt;code class=&quot;highlighter-rouge&quot;&gt;getDay&lt;/code&gt; để lấy ra thứ hiện tại trong tháng (thứ 2, chủ nhật…) đồng thời cũng là index của mảng luôn. Ngoài ra javascript còn có hàm &lt;code class=&quot;highlighter-rouge&quot;&gt;getDate&lt;/code&gt; trả về ngày hôm đấy là ngày bao nhiêu của tháng nữa. 2 hàm này rất dễ lẫn lộn với nhau.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getFirstDayIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tiếp đến sẽ là hàm lấy tất cả những ngày còn lại. &lt;code class=&quot;highlighter-rouge&quot;&gt;MAX_DAYS&lt;/code&gt; của mình đang để là 35.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDaysOfMonth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MAX_DAYS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Khá là đơn giản đúng không. Như vừa rồi mình đã generate ra được 1 mảng 35 phần tử có chứa các ngày trong tháng để hiện lên calendar rồi. Việc còn lại chỉ là loop rồi hiển thị ra màn hình, đoạn này mình sẽ không đi chi tiết do bài này mình chỉ muốn giải thích về thuật toán để render ra cái calendar thôi. Khi đã render ra calendar thì mình nghĩ đã xong đến 70% component rồi. Ngoài ra sẽ còn những thứ râu ria như là: nút chuyển tháng, input, style cho đẹp…, cái này mình không đề cập ở đây. Bạn có thể xem source code hoàn chỉnh ở đây nhé &lt;a href=&quot;https://github.com/gianglevan94/ugly-date-picker&quot;&gt;https://github.com/gianglevan94/ugly-date-picker&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;lời-kết&quot;&gt;Lời kết&lt;/h2&gt;
&lt;p&gt;Vừa rồi là một bài hướng dẫn nho nhỏ về viết component datepicker bằng javascript thuần. Hi vọng bài viết sẽ hữu ích cho các bạn. Các bạn có thể tự build 1 component datepicker cho riêng mình (không khuyến khích), thay vì phải dùng những thư viện trên mạng có nhiều tính năng thừa thãi mà bạn không dùng đến cũng như sẽ dễ dàng tùy biến hơn tùy vào dự án và yêu cầu của khác hàng. Cám ơn các bạn đã đọc bài!&lt;/p&gt;</content><author><name>Giangg</name></author><category term="ReactJS" /><category term="Datepicker" /><category term="Javascript" /><summary type="html">Khi các bạn làm việc với các framework frontend như Vue, Angular hay React (thực ra nó là thư viện, nhưng mình cứ coi như nó là framework đi), bạn sẽ không ít lần dùng các thư viện datepicker có ở trên github. Đã bao giờ bạn tự hỏi rằng những thư viện này được viết như thế nào chưa? Lúc đầu mình cũng nghĩ những thư viện này ẩn chứa 1 thuật toán rất chi là cao siêu, nhưng khi bắt đầu viết cho mình 1 component datepicker thì lại thấy nó cực kỳ đơn giản. Hãy cùng bắt đầu nhé Thành quả Đây là kết quả cuối cùng của component. Mình có sử dụng thư viện NES css để trông cho đẹp mắt hơn. demo thì ở đây nes datepicker Thuật toán Mô ta 1 chút về component datepicker này. Như các bạn thấy nó sẽ gồm 35 ô số có thể chứa ngày của tháng hiện tại, ngày của tháng trước, và ngày của tháng kế tiếp. Ngày đầu tiên của tháng hiện tại sẽ luôn nằm ở hàng đầu tiên, vậy mấu chốt ở đây là bạn phải xác định được ngày đầu tiên của tháng là vào thứ mấy, rồi từ đấy fill vào các ô trước đó là ngày của tháng trước. Dưới đây là một vài đoạn code của thuật thoán. Đầu tiên là init các ngày của mảng mình sẽ có hàm getDays bên trong đấy sẽ có 2 hàm là getDaysOfPrevMonth và getDaysOfMonth sẽ trả về các ngày của tháng trước, và các ngày sau đó. Vì sao đoạn này mình lại days.slice(0, MAX_DAYS) ? Đoạn này do mình lười tính toàn số ngày của tháng hiện tại và tháng tiếp đó nên mình sẽ lấy dư ra vài ngày và cắt bớt. Bạn đọc code sẽ hiểu thêm. const getDays = (month) =&amp;gt; { const days = [...getDaysOfPrevMonth(month), ...getDaysOfMonth(month)]; return days.slice(0, MAX_DAYS); }; Đây là hàm lấy gày của tháng hiện tại như bạn có thể thấy là hàm getFirstDayIndex sẽ trả về ngày đầu tiên của tháng là index thứ bao nhiêu của mảng. Sau đó sẽ lùi dần về ngày của các tháng trước đó const getDaysOfPrevMonth = (month) =&amp;gt; { const firstDayIndex = getFirstDayIndex(month); const days = []; for (let i = 0; i &amp;lt; firstDayIndex; i++) { const now = new Date(); now.setMonth(month); now.setDate(1); const diffDate = firstDayIndex - i; now.setDate(now.getDate() - diffDate); days.push(now); } return days; }; Mình sẽ dùng hàm getDay để lấy ra thứ hiện tại trong tháng (thứ 2, chủ nhật…) đồng thời cũng là index của mảng luôn. Ngoài ra javascript còn có hàm getDate trả về ngày hôm đấy là ngày bao nhiêu của tháng nữa. 2 hàm này rất dễ lẫn lộn với nhau. const getFirstDayIndex = (month) =&amp;gt; { const now = new Date(); now.setMonth(month); now.setDate(1); return now.getDay(); }; Tiếp đến sẽ là hàm lấy tất cả những ngày còn lại. MAX_DAYS của mình đang để là 35. const getDaysOfMonth = (month) =&amp;gt; { const days = []; for (let i = 1; i &amp;lt;= MAX_DAYS; i++) { const now = new Date(); now.setMonth(month); now.setDate(i); days.push(now); } return days; }; Khá là đơn giản đúng không. Như vừa rồi mình đã generate ra được 1 mảng 35 phần tử có chứa các ngày trong tháng để hiện lên calendar rồi. Việc còn lại chỉ là loop rồi hiển thị ra màn hình, đoạn này mình sẽ không đi chi tiết do bài này mình chỉ muốn giải thích về thuật toán để render ra cái calendar thôi. Khi đã render ra calendar thì mình nghĩ đã xong đến 70% component rồi. Ngoài ra sẽ còn những thứ râu ria như là: nút chuyển tháng, input, style cho đẹp…, cái này mình không đề cập ở đây. Bạn có thể xem source code hoàn chỉnh ở đây nhé https://github.com/gianglevan94/ugly-date-picker Lời kết Vừa rồi là một bài hướng dẫn nho nhỏ về viết component datepicker bằng javascript thuần. Hi vọng bài viết sẽ hữu ích cho các bạn. Các bạn có thể tự build 1 component datepicker cho riêng mình (không khuyến khích), thay vì phải dùng những thư viện trên mạng có nhiều tính năng thừa thãi mà bạn không dùng đến cũng như sẽ dễ dàng tùy biến hơn tùy vào dự án và yêu cầu của khác hàng. Cám ơn các bạn đã đọc bài!</summary></entry></feed>