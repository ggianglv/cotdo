<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="https://gianglevan94.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://gianglevan94.github.io/" rel="alternate" type="text/html" /><updated>2020-11-23T22:42:46+07:00</updated><id>https://gianglevan94.github.io/feed.xml</id><title type="html">Cốt đơ</title><subtitle>Các bài viết nhảm nhí về coder</subtitle><author><name>true</name></author><entry><title type="html">Xóa sự kiện beforeunload trong javascript</title><link href="https://gianglevan94.github.io/remove-onbeforeunload-listener-trong-javascript.html" rel="alternate" type="text/html" title="Xóa sự kiện beforeunload trong javascript" /><published>2020-11-23T00:00:00+07:00</published><updated>2020-11-23T00:00:00+07:00</updated><id>https://gianglevan94.github.io/remove-onbeforeunload-listener-trong-javascript</id><content type="html" xml:base="https://gianglevan94.github.io/remove-onbeforeunload-listener-trong-javascript.html">&lt;p&gt;Ngày hôm nay mình đã gặp được 1 vấn đề khá là hay ho, nên khi về đến nhà, mình đã quyết định viết bài này để giới thiệu với mọi người và cũng coi như là bookmark lại cho tương lai lỡ có nếu gặp phải thì chỉ cần vào đây để xem lại.&lt;/p&gt;

&lt;h2 id=&quot;vấn-đề&quot;&gt;Vấn đề&lt;/h2&gt;

&lt;p&gt;Vấn đề mình gặp phải là: team mình đang phải làm việc với &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kintone&lt;/code&gt;, một công nghệ khá là củ củ chuối. Đại loại là kintone sẽ cung cấp giao diện kéo thả, dev sẽ viết code javascript để nhúng vào custom giao diện, cũng như là tính năng. Trong file script có sẵn của &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kintone&lt;/code&gt; thì đã implement sẵn sự kiện &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onbeforeunload&lt;/code&gt; để thông báo khi rời trang. Nhiều khi cái thông báo đó rất là khó chịu. Và hôm nay mình đã phải bỏ sự kiện &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onbeforeunload&lt;/code&gt; trong một file script khác.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/before-unload.png&quot; alt=&quot;beforeunload&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;giải-pháp&quot;&gt;Giải pháp&lt;/h2&gt;

&lt;p&gt;Đầu tiên là mình search trên google, cũng ra khá nhiều cách nhưng mình thử đều không được. Như là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;window.onbeforeunload = null&lt;/code&gt;. Cũng đã thử mò vào source code của kintone để xem nhưng file đó đã được build rồi, nên là không thể đọc được nó viết gì.&lt;/p&gt;

&lt;p&gt;Sau đó thì mình nảy ra ý tưởng là sẽ ghi đè hàm &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;window.addEventListener&lt;/code&gt; khi mà listener &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beforeunload&lt;/code&gt; thì mình sẽ không làm gì, đại loại là không cho listener sự kiện beforeunload. Code version 1 sẽ như sau&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;disableBeforeUnload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;oldAddEventListener&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;breforeunload&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;oldAddEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Bạn chỉ cần gọi hàm này ở đầu file javascript thì mọi sự kiện &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beforeunload&lt;/code&gt; sẽ không được thực thi.&lt;/p&gt;

&lt;p&gt;Hãy cùng nâng cấp chức năng của hàm này lên 1 chút nhé. Mình muốn bình thường vẫn listener sự kiện &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beforeunload&lt;/code&gt; khi nào mình gọi hàm này thì mới bỏ sự kiện đó đi. Và khi nào mình muốn listener lại cũng được. Kiểu như tạm dừng không cho gọi &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beforeunload&lt;/code&gt;. Code xử lý sẽ như sau&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;listeners&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;oldAddEventListener&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;breforeunload&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;listeners&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;oldAddEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;disableBeforeUnload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;listeners&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;beforeunload&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;enableBeforeUnload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;listeners&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;beforeunload&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;listener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Khá là đơn giản đúng không. Hi vọng bài viết này sẽ hữu ích với các bạn.&lt;/p&gt;</content><author><name>Giangg</name></author><category term="Kintone" /><category term="Javascript" /><summary type="html">Ngày hôm nay mình đã gặp được 1 vấn đề khá là hay ho, nên khi về đến nhà, mình đã quyết định viết bài này để giới thiệu với mọi người và cũng coi như là bookmark lại cho tương lai lỡ có nếu gặp phải thì chỉ cần vào đây để xem lại.</summary></entry><entry><title type="html">Deploy react app lên github page</title><link href="https://gianglevan94.github.io/deploy-react-app-len-github-page.html" rel="alternate" type="text/html" title="Deploy react app lên github page" /><published>2020-08-02T00:00:00+07:00</published><updated>2020-08-02T00:00:00+07:00</updated><id>https://gianglevan94.github.io/deploy-react-app-len-github-page</id><content type="html" xml:base="https://gianglevan94.github.io/deploy-react-app-len-github-page.html">&lt;p&gt;Khi phát triển một trang sử dụng ReactJS, nếu bạn muốn gửi link cho bạn bè để khoe thành quả, hay deploy để test thì bạn làm như thế nào? Amazon s3 là một nơi tốt để deploy React app. Và tuyệt vời hơn nữa là nó hoàn toàn miễn phí.&lt;/p&gt;

&lt;h2 id=&quot;nội-dung-chính&quot;&gt;Nội dung chính&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Tạo 1 react app đơn giản&lt;/li&gt;
  &lt;li&gt;Cấu hình để deploy lên github page&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;cần-chuẩn-bị&quot;&gt;Cần chuẩn bị&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Tài khoản github&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;tạo-react-app-đơn-giản&quot;&gt;Tạo react app đơn giản&lt;/h3&gt;
&lt;p&gt;Mình sẽ dùng &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;create-react-app&lt;/code&gt; để tạo 1 react app để demo.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;create-react-app demo-github-pages
cd demo-github-pages
npm start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Và đây là thành quả&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/react-app.png&quot; alt=&quot;react app&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;cấu-hình-để-deploy&quot;&gt;Cấu hình để deploy&lt;/h2&gt;

&lt;p&gt;Sau đó thì cài đặt thư viện &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; bằng cách chạy&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm install gh-pages --save-dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tiếp đến là thay đổi một chút thông tin của file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;package.json&lt;/code&gt;. Đầu tiên bạn cần làm là thêm địa chỉ homepage của app. url sẽ có dạng https://&lt;username github=&quot;&quot;&gt;.github.io/&lt;tên của=&quot;&quot; repo=&quot;&quot;&gt;. Ví dụ như dưới là username github của mình là `gianglevan94` còn tên của repo là `ugly-date-picker`.&lt;/tên&gt;&lt;/username&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;name&quot;: &quot;date-picker&quot;,
&quot;version&quot;: &quot;0.1.0&quot;,
&quot;private&quot;: true,
&quot;homepage&quot;: &quot;https://gianglevan94.github.io/ugly-date-picker&quot;,
&quot;dependencies&quot;: {
    &quot;@testing-library/jest-dom&quot;: &quot;^4.2.4&quot;,
 ///   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sau đó thì cập nhật lại scripts 1 tí&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;scripts&quot;: {
    &quot;start&quot;: &quot;react-scripts start&quot;,
    &quot;deploy&quot;: &quot;gh-pages -d build&quot;,
    &quot;build&quot;: &quot;react-scripts build&quot;,
    &quot;test&quot;: &quot;react-scripts test&quot;,
    &quot;eject&quot;: &quot;react-scripts eject&quot;
},
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/gh-page-package-json.png&quot; alt=&quot;package json&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Bước tiếp theo là bạn tạo 1 repo trên github. Nhớ tạo đúng tên như mục &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;homepage&lt;/code&gt; ở trên.&lt;/p&gt;

&lt;h2 id=&quot;deploy&quot;&gt;Deploy&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Đầu tiên là chạy lệnh build &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm run build&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Tiếp theo là chạy lệnh deploy &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm run deploy&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Sau khi hoàn chạy hoàn tất script thì bạn vào địa chỉ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;homepage&lt;/code&gt; vừa cấu hình lúc nãy để xem thành quả. Nhớ là clear cache trước nhé.&lt;/p&gt;

&lt;p&gt;Trên đây là một bài hướng dẫn nho nhỏ để deploy react app lên github pages. Hi vọng sẽ hữu ích cho bạn. Nếu có bất cứ thắc mắc gì thì hãy comment bên dưới nhé. Cảm ơn bạn đã đọc bài.&lt;/p&gt;</content><author><name>Giangg</name></author><category term="ReactJS" /><category term="S3" /><category term="Amazon" /><summary type="html">Khi phát triển một trang sử dụng ReactJS, nếu bạn muốn gửi link cho bạn bè để khoe thành quả, hay deploy để test thì bạn làm như thế nào? Amazon s3 là một nơi tốt để deploy React app. Và tuyệt vời hơn nữa là nó hoàn toàn miễn phí.</summary></entry><entry><title type="html">Viết component datepicker bằng javascript thuần</title><link href="https://gianglevan94.github.io/viet-thu-vien-datepicker-bang-javascript.html" rel="alternate" type="text/html" title="Viết component datepicker bằng javascript thuần" /><published>2020-07-26T00:00:00+07:00</published><updated>2020-07-26T00:00:00+07:00</updated><id>https://gianglevan94.github.io/viet-thu-vien-datepicker-bang-javascript</id><content type="html" xml:base="https://gianglevan94.github.io/viet-thu-vien-datepicker-bang-javascript.html">&lt;p&gt;Khi các bạn làm việc với các framework frontend như Vue, Angular hay React (thực ra nó là thư viện, nhưng mình cứ coi như nó là framework đi), bạn sẽ không ít lần dùng các thư viện datepicker có ở trên github. Đã bao giờ bạn tự hỏi rằng những thư viện này được viết như thế nào chưa? Lúc đầu mình cũng nghĩ những thư viện này ẩn chứa 1 thuật toán rất chi là cao siêu, nhưng khi bắt đầu viết cho mình 1 component datepicker thì lại thấy nó cực kỳ đơn giản. Hãy cùng bắt đầu nhé&lt;/p&gt;

&lt;h2 id=&quot;thành-quả&quot;&gt;Thành quả&lt;/h2&gt;

&lt;p&gt;Đây là kết quả cuối cùng của component. Mình có sử dụng thư viện NES css để trông cho đẹp mắt hơn. demo thì ở đây &lt;a href=&quot;https://gianglevan94.github.io/ugly-date-picker&quot;&gt;nes datepicker&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nes-datepicker.png&quot; alt=&quot;datepicker&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;thuật-toán&quot;&gt;Thuật toán&lt;/h2&gt;

&lt;p&gt;Mô ta 1 chút về component datepicker này. Như các bạn thấy nó sẽ gồm 35 ô số có thể chứa ngày của tháng hiện tại, ngày của tháng trước, và ngày của tháng kế tiếp. Ngày đầu tiên của tháng hiện tại sẽ luôn nằm ở hàng đầu tiên, vậy mấu chốt ở đây là bạn phải xác định được ngày đầu tiên của tháng là vào thứ mấy, rồi từ đấy fill vào các ô trước đó là ngày của tháng trước. Dưới đây là một vài đoạn code của thuật thoán.&lt;/p&gt;

&lt;p&gt;Đầu tiên là init các ngày của mảng mình sẽ có hàm &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDays&lt;/code&gt; bên trong đấy sẽ có 2 hàm là &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDaysOfPrevMonth&lt;/code&gt; và &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDaysOfMonth&lt;/code&gt; sẽ trả về các ngày của tháng trước, và các ngày sau đó. Vì sao đoạn này mình lại &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;days.slice(0, MAX_DAYS)&lt;/code&gt; ? Đoạn này do mình lười tính toàn số ngày của tháng hiện tại và tháng tiếp đó nên mình sẽ lấy dư ra vài ngày và cắt bớt. Bạn đọc code sẽ hiểu thêm.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDays&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDaysOfPrevMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDaysOfMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)];&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MAX_DAYS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Đây là hàm lấy gày của tháng hiện tại như bạn có thể thấy là hàm &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getFirstDayIndex&lt;/code&gt; sẽ trả về ngày đầu tiên của tháng là index thứ bao nhiêu của mảng. Sau đó sẽ lùi dần về ngày của các tháng trước đó&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDaysOfPrevMonth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstDayIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getFirstDayIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstDayIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;diffDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstDayIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;diffDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mình sẽ dùng hàm &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDay&lt;/code&gt; để lấy ra thứ hiện tại trong tháng (thứ 2, chủ nhật…) đồng thời cũng là index của mảng luôn. Ngoài ra javascript còn có hàm &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getDate&lt;/code&gt; trả về ngày hôm đấy là ngày bao nhiêu của tháng nữa. 2 hàm này rất dễ lẫn lộn với nhau.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getFirstDayIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tiếp đến sẽ là hàm lấy tất cả những ngày còn lại. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MAX_DAYS&lt;/code&gt; của mình đang để là 35.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDaysOfMonth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MAX_DAYS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;days&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Khá là đơn giản đúng không. Như vừa rồi mình đã generate ra được 1 mảng 35 phần tử có chứa các ngày trong tháng để hiện lên calendar rồi. Việc còn lại chỉ là loop rồi hiển thị ra màn hình, đoạn này mình sẽ không đi chi tiết do bài này mình chỉ muốn giải thích về thuật toán để render ra cái calendar thôi. Khi đã render ra calendar thì mình nghĩ đã xong đến 70% component rồi. Ngoài ra sẽ còn những thứ râu ria như là: nút chuyển tháng, input, style cho đẹp…, cái này mình không đề cập ở đây. Bạn có thể xem source code hoàn chỉnh ở đây nhé &lt;a href=&quot;https://github.com/gianglevan94/ugly-date-picker&quot;&gt;https://github.com/gianglevan94/ugly-date-picker&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;lời-kết&quot;&gt;Lời kết&lt;/h2&gt;
&lt;p&gt;Vừa rồi là một bài hướng dẫn nho nhỏ về viết component datepicker bằng javascript thuần. Hi vọng bài viết sẽ hữu ích cho các bạn. Các bạn có thể tự build 1 component datepicker cho riêng mình (không khuyến khích), thay vì phải dùng những thư viện trên mạng có nhiều tính năng thừa thãi mà bạn không dùng đến cũng như sẽ dễ dàng tùy biến hơn tùy vào dự án và yêu cầu của khác hàng. Cám ơn các bạn đã đọc bài!&lt;/p&gt;</content><author><name>Giangg</name></author><category term="ReactJS" /><category term="Datepicker" /><category term="Javascript" /><summary type="html">Khi các bạn làm việc với các framework frontend như Vue, Angular hay React (thực ra nó là thư viện, nhưng mình cứ coi như nó là framework đi), bạn sẽ không ít lần dùng các thư viện datepicker có ở trên github. Đã bao giờ bạn tự hỏi rằng những thư viện này được viết như thế nào chưa? Lúc đầu mình cũng nghĩ những thư viện này ẩn chứa 1 thuật toán rất chi là cao siêu, nhưng khi bắt đầu viết cho mình 1 component datepicker thì lại thấy nó cực kỳ đơn giản. Hãy cùng bắt đầu nhé Thành quả Đây là kết quả cuối cùng của component. Mình có sử dụng thư viện NES css để trông cho đẹp mắt hơn. demo thì ở đây nes datepicker Thuật toán Mô ta 1 chút về component datepicker này. Như các bạn thấy nó sẽ gồm 35 ô số có thể chứa ngày của tháng hiện tại, ngày của tháng trước, và ngày của tháng kế tiếp. Ngày đầu tiên của tháng hiện tại sẽ luôn nằm ở hàng đầu tiên, vậy mấu chốt ở đây là bạn phải xác định được ngày đầu tiên của tháng là vào thứ mấy, rồi từ đấy fill vào các ô trước đó là ngày của tháng trước. Dưới đây là một vài đoạn code của thuật thoán. Đầu tiên là init các ngày của mảng mình sẽ có hàm getDays bên trong đấy sẽ có 2 hàm là getDaysOfPrevMonth và getDaysOfMonth sẽ trả về các ngày của tháng trước, và các ngày sau đó. Vì sao đoạn này mình lại days.slice(0, MAX_DAYS) ? Đoạn này do mình lười tính toàn số ngày của tháng hiện tại và tháng tiếp đó nên mình sẽ lấy dư ra vài ngày và cắt bớt. Bạn đọc code sẽ hiểu thêm. const getDays = (month) =&amp;gt; { const days = [...getDaysOfPrevMonth(month), ...getDaysOfMonth(month)]; return days.slice(0, MAX_DAYS); }; Đây là hàm lấy gày của tháng hiện tại như bạn có thể thấy là hàm getFirstDayIndex sẽ trả về ngày đầu tiên của tháng là index thứ bao nhiêu của mảng. Sau đó sẽ lùi dần về ngày của các tháng trước đó const getDaysOfPrevMonth = (month) =&amp;gt; { const firstDayIndex = getFirstDayIndex(month); const days = []; for (let i = 0; i &amp;lt; firstDayIndex; i++) { const now = new Date(); now.setMonth(month); now.setDate(1); const diffDate = firstDayIndex - i; now.setDate(now.getDate() - diffDate); days.push(now); } return days; }; Mình sẽ dùng hàm getDay để lấy ra thứ hiện tại trong tháng (thứ 2, chủ nhật…) đồng thời cũng là index của mảng luôn. Ngoài ra javascript còn có hàm getDate trả về ngày hôm đấy là ngày bao nhiêu của tháng nữa. 2 hàm này rất dễ lẫn lộn với nhau. const getFirstDayIndex = (month) =&amp;gt; { const now = new Date(); now.setMonth(month); now.setDate(1); return now.getDay(); }; Tiếp đến sẽ là hàm lấy tất cả những ngày còn lại. MAX_DAYS của mình đang để là 35. const getDaysOfMonth = (month) =&amp;gt; { const days = []; for (let i = 1; i &amp;lt;= MAX_DAYS; i++) { const now = new Date(); now.setMonth(month); now.setDate(i); days.push(now); } return days; }; Khá là đơn giản đúng không. Như vừa rồi mình đã generate ra được 1 mảng 35 phần tử có chứa các ngày trong tháng để hiện lên calendar rồi. Việc còn lại chỉ là loop rồi hiển thị ra màn hình, đoạn này mình sẽ không đi chi tiết do bài này mình chỉ muốn giải thích về thuật toán để render ra cái calendar thôi. Khi đã render ra calendar thì mình nghĩ đã xong đến 70% component rồi. Ngoài ra sẽ còn những thứ râu ria như là: nút chuyển tháng, input, style cho đẹp…, cái này mình không đề cập ở đây. Bạn có thể xem source code hoàn chỉnh ở đây nhé https://github.com/gianglevan94/ugly-date-picker Lời kết Vừa rồi là một bài hướng dẫn nho nhỏ về viết component datepicker bằng javascript thuần. Hi vọng bài viết sẽ hữu ích cho các bạn. Các bạn có thể tự build 1 component datepicker cho riêng mình (không khuyến khích), thay vì phải dùng những thư viện trên mạng có nhiều tính năng thừa thãi mà bạn không dùng đến cũng như sẽ dễ dàng tùy biến hơn tùy vào dự án và yêu cầu của khác hàng. Cám ơn các bạn đã đọc bài!</summary></entry></feed>